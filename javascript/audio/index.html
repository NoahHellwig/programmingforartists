<div class="gallery"></div>
<div class="footer"></div>
<script>
    var gallery = document.querySelector(".gallery");
    gallery.innerHTML = "";
    gallery.style.textAlign = "center";
    
    var footer = document.querySelector(".footer");
    footer.innerHTML = ""; 
    footer.style.textAlign = "center";
    combinestring = "";
    
    var form = document.createElement("form");
    var input = document.createElement("input"); 
    input.setAttribute("type", "text"); 
    input.setAttribute("id", "myform"); 
    
    input.setAttribute("placeholder", "Add text"); 
    
    var long = new Audio('long.wav');
    var short = new Audio('short.wav');
    var morse = ""; 
    
    var letters = [ ' ', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0' ];
    var morseLetters = [ "\xa0\xa0\xa0\xa0", ". _", "_ . . .", "_ . _ .", "_ . .", ".", ". . _ .", "_ _ .", ". . . .", ". .", ". _ _ _", "_ . _", ". _ . .",  "_ _", "_ .", "_ _ _", ". _ _ .", "_ _ . _", ". _ .", ". . .", "_", ". . _", ". . . _", ". _ _", "_ . . _", "_ . _ _", "_ _ . .", ". _ _ _ _", ". . _ _ _", ". . . _ _", ". . . . _", ". . . . .", "_ . . . .", "_ _ . . .", "_ _ _ . .", "_ _ _ _ .", "_ _ _ _ _" ];
    
    form.append(input)
    footer.append(form) 
    setInterval(function(){  
    combinestring = input.value; 
    // gallery.innerHTML = combinestring; 
    morse = convert(combinestring)
    gallery.innerHTML = morse; 
    console.log(combinestring) 
    input.setAttribute("value", ""); 
    moSound(morse)
    }, 5000);
    
    function convert(words){
    
    var newText = "";
    for (var i = 0; i < words.length; i++) {
        for (var j = 0; j < 37; j++) {
            if (words[i].toLowerCase() == letters[j]) {
                newText += morseLetters[j];
                newText += "\xa0\xa0\xa0";
                break;
            }        
        }
    }
    return newText;
    }
    function moSound(morse) {
    var i = 0;
    var playing = setInterval(function(){  
        if (morse[i] == ".") {
            short.play();
        }
        if (morse[i] == "_") {
    
            long.play();
    
        }
        i++;
        if (i > morse.length)  {
            clearInterval(playing); 
        }
    }, 100);
    
    }
    
</script>   

// test json
var works = [ 
 {
    "title": "Museum Meltdown",
    "description": "Museum Meltdown...game modifications...art museums.",
    "art_img": "./img/mm.jpg",
    "year": "1996"
 }]

// portfolio json
var artworks = [ 
    {
       "art_id": 1,
       "slide_id": 41,
       "art_title": "Museum Meltdown",
       "artwork_short": "mm",
       "art_descrip": "Museum Meltdown is a series of three artistically modified video games based on reconstructions of famous art museums. Enter the museum of death and destruction. While your mission is to kill the mutated museum invaders you might take pleasure in destroying the arts. Made together with Tobias Bernstrup.",
       "art_year": "1996-1999",
       "art_year_end": 1998,
       "art_maker": "Torsson Bernstrup",
       "artwork_type": "Computer game Mo",
       "art_quality": "Computer game Modification Half-life",
       "art_price": 10000,
       "art_video": "b5OJnwFJ6TI",
       "art_imgs": 16,
       "art_show": true
     },
   
     {
       "art_id": 2,
       "slide_id": 16,
       "art_title": "Free Fall",
       "artwork_short": "freefall",
       "art_descrip": "We are in a kind of perpetual fall, which dissolves notions of linearity and hierarchy. â–² ",
       "art_descrip_long": " long We are in a kind of perpetual fall, which dissolves notions of linearity and hierarchy. â–² ",
       "art_year": 2011,
       "art_year_end": 0,
       "art_maker": "Palle Torsson",
       "artwork_type": "",
       "art_quality": "Game Modification Half life 2",
       "art_price": 10000,
       "art_video": "iiz88gMjAk4",
       "art_imgs": 17,
       "art_show": true
     },
       {
       "art_id": 3,
       "slide_id": 33,
       "art_title": "The secret garden",
       "artwork_short": "thegard",
       "art_descrip": "Exploring how hybrids between art, activism and hacking over prolong time.",
       "art_year": 2011,
       "art_year_end": 3000,
       "art_maker": "The secret garden",
       "artwork_type": "Project",
       "art_quality": "Intertwingled collaboration",
       "art_price": 0,
       "art_video": 0,
       "art_imgs": 12,
       "art_show": false
     },
   
       {
       "art_id": 38,
       "slide_id": 41,
       "art_title": "Embassy of Piracy",
       "artwork_short": "embassy",
       "art_descrip": "Embassy of Piracy",
       "art_year": 2009,
       "art_year_end": 2010,
       "art_maker": "The Pirate Bureau",
       "artwork_type": "Project",
       "art_quality": "Intertwingled collaboration with Piratbyran",
       "art_price": 0,
       "art_video": "D4ej0NtOI_w",
       "art_imgs": 3,
       "art_show": true
     },
     {
       "art_id": 39,
       "slide_id": 1,
       "art_title": "Riot chat",
       "artwork_short": "riotchat",
       "art_descrip": "A Omnihal Botani Kopimi Chat Riot",
       "art_year": 2014,
       "art_year_end": 0,
       "art_maker": "Pallew Torsson",
       "artwork_type": "art",
       "art_quality": "website",
       "art_price": 0,
       "art_video": "nb2rIvT9UMw",
       "art_imgs": 7,
       "art_show": true
     },
     {
       "art_id": 40,
       "slide_id": 10,
       "art_title": "DeathRay",
       "artwork_short": "deathray",
       "art_descrip": "- We know where your mobile has been.",
       "art_year": 2013,
       "art_year_end": 0,
       "art_maker": "Spravnästet",
       "artwork_type": "visualization",
       "art_quality": "",
       "art_price": 0,
       "art_video": "J4yePhoTVG0&t",
       "art_imgs": 4,
       "art_show": true
     }
     ,
       {
       "art_id": 37,
       "slide_id": 41,
       "art_title": "s23",
       "artwork_short": "s23m",
       "art_descrip": "The bus s23m, x, k ",
       "art_year": 2008,
       "art_year_end": 2009,
       "art_maker": "The Pirate Bureau",
       "artwork_type": "Project",
       "art_quality": "Intertwingled collaboration with Piratbyran",
       "art_price": 0,
       "art_video": "dfhpjWUZ8lM",
       "art_imgs": 16,
       "art_show": true
     },
       {
       "art_id": 35,
       "slide_id": 41,
       "art_title": "Piratbyran",
       "artwork_short": "pb",
       "art_descrip": "Piratbyran advocacy for free communication, information exchange and the internet.",
       "art_year": 2003,
       "art_year_end": 2010,
       "art_maker": "The Pirate Bureau",
       "artwork_type": "Project",
       "art_quality": "Intertwingled collaboration",
       "art_price": 0,
       "art_video": 0,
       "art_imgs": 20,
       "art_show": false
     },
     {
       "art_id": 12,
       "slide_id": 41,
       "art_title": "Evil Interiors",
       "artwork_short": "evil",
       "art_descrip_long": "Evil Interiors is a series of sixteen digital prints that depict the sets of some of the key scenes in film history: the home of the old man in Clockwork Orange, the hotel corridor in Shining, the empty warehouse in Reservoir Dogs, the motel room in Psycho, Hannibal Lecter's cage in The Silence of the Lambs. Using the editor in Unreal Tournament 2003 the reconstion was made from filmstills of the sets. Additionally videos from the set where made. ",
       "art_descrip": "Evil Interiors is a series of recontructions using the editor in Unreal Tournament 2003 from key scenes in The Shining, Reservoir Dogs, Psycho and The Silence of the Lambs etc. â–²",
       "art_year": 2003,
       "art_year_end": 0,
       "art_maker": "Palle Torsson",
       "artwork_type": "Computer game print and machinima",
       "art_quality": "Lamda Print: 140 x 100",
       "art_price": 4000,
       "art_video": "iPK9-uplPJg",
       "art_imgs": 15,
       "art_show": true
     },
       {
       "art_id": 6,
       "slide_id": 41,
       "art_title": "Text Voyeur",
       "artwork_short": "textv",
       "art_descrip": "The work Text Voyeur a sort of real-time poetry showing a stream word of desire. Lime wire, a peer - to - peer file sharing program are used as a ready made.A feature in the program makes it possible to monitor the key words that people around us are using while searching for their files of interest. This simplified text based stream of desire makes us text voyeurs. ",
       "art_year": 2002,

       "art_year_end": "textv",
       "art_maker": "Palle Torsson",
       "artwork_type": "",

       "art_quality": "tv_1.jpg",
       "art_price": 0,
       "art_video": 0,
       "art_imgs": "tv",
       "art_show": false
     },
     {
       "art_id": 10,
       "slide_id": 41,
       "art_title": "Pippi Exampels",
       "artwork_short": "pippi",
       "art_descrip": "Pippi Examples was 25 minutes long and consisted of selected short sequences in slow motion from the Pippi Longstocking films made around 1970. After a legal process with The Swedish Film Industry the work was destroyed.",
       "art_year": 2001,
       "art_year_end": 0,
       "art_maker": "Palle Torsson",
       "artwork_type": "Video",
       "art_quality": "Video (Censored)",
       "art_price": 0,
       "art_video": 0,
       "art_imgs": 7,
       "art_show": true
     },
     
     {
       "art_id": 8,
       "slide_id": 41,
       "art_title": "Minus Porn",
       "artwork_short": "minus",
       "art_descrip": "The minus in Minus Porn refers to a search engine function to exclude sites with specific words; -porn. whats left is the embedded morphology of pornography.",
       "art_year": 1999,
       "art_year_end": 0,
       "art_maker": "Palle Torsson",
       "artwork_type": "",
       "art_quality": "Lamda Print: 100 x 70",
       "art_price": 1000,
       "art_video": "R-O0yIxs8IA",
       "art_imgs": 10,
       "art_show": true
     },
     {
       "art_id": 11,
       "slide_id": 41,
       "art_title": "Sam",
       "artwork_short": "sam",
       "art_descrip": "A little girl, still too young to be tamed by conventions of society. â–² ",
       "art_descrip_long": "The computer game (based on Half-life), Sam, tells a story of a violent little girl, still too young to be tamed by conventions of society. A surprising urban version, in the city, in school, bars and offices spaces, she kills every living being she encounters. You let female re-adolescence run free. ",
       "art_year": 2001,
       "art_year_end": 0,
       "art_maker": "Palle Torsson",
       "artwork_type": "Computer game modification, game and machinima",
       "art_quality": "Computer game modification based on Half-life",
       "art_price": 10000,
       "art_video": "9Rver_5jKQo",
       "art_imgs": 13,
       "art_show": true
     },
     {
       "art_id": 41,
       "slide_id": 41,
       "art_title": "Turn around",
       "artwork_short": "turn",
       "art_descrip": "Turn around, video from 1998. ",
       "art_year": 1998,
       "art_year_end": 1990,
       "art_maker": "Palle Torsson",
       "artwork_type": "videogame",
       "art_quality": 1,
       "art_price": 0,
       "art_video": "963kLWJSkjE",
       "art_imgs": 5,
       "art_show": true
     },
   
     {
       "art_id": 5,
       "slide_id": 41,
       "art_title": "Assvideo",
       "artwork_short": "ass",
       "art_descrip": "Films like Seven, Cape Fear and The Silence of the Lambs was projected and simultaneously recorded from the ass.",
       "art_year": 1996,
       "art_year_end": 1997,
       "art_maker": "Palle Torsson",
       "artwork_type": "",
       "art_quality": "Video",
       "art_price": 0,
       "art_video": "Sv0dZ3Ib9V4",
       "art_imgs": 11,
       "art_show": true
     },
     {
       "art_id": 30,
       "slide_id": 41,
       "art_title": "Join Hands",
       "artwork_short": "join",
       "art_descrip": "Torsson-Bernstrup guides you through the most important issues of modern life. Project got censored.  ",
       "art_year": 1995,
       "art_year_end": 0,
       "art_maker": "Torsson Bernstup",
       "artwork_type": "",
       "art_quality": "Website",
       "art_price": 0,
       "art_video": 0,
       "art_imgs": 2,
       "art_show": true
     },
     {
       "art_id": 31,
       "slide_id": 41,
       "art_title": "Black Soup",
       "artwork_short": "black",
       "art_descrip": "A black soup dinner made from our own blod. A Performance at Resturang VC in Stockholm, together with Kristin Skanser. ",
       "art_year": 1995,
       "art_year_end": 0,
       "art_maker": "Palle Torsson and Kristin Skanser",
       "artwork_type": "",
       "art_quality": "Performance",
       "art_price": 0,
       "art_video": "1PPG_AEcCWU",
       "art_imgs": 7,
       "art_show": true
     },
   ];

// from the edited html select list item.
var galleryItem = $('.kopimi'); 
var workelement = galleryItem.clone();
var showVideo = false; 

// sellect and hide a detail view 
var singleItem = $('.singleItem'); 
singleItem.hide(); 

// hide and empty to rest the container 
$( ".listworks" ).empty();

// show all projects from json
$.each( artworks, function( i, val ) {
  $('.text-target', workelement).html(val.art_title +": "+ val.art_descrip);
	$('.target-img', workelement).attr('src', "http://www.palletorsson.com/img/" +val.artwork_short + "/"+ val.artwork_short + "1.jpg"); 
	$('.target-title', workelement).html(val.art_title); 
  $('.target-year', workelement).html(val.art_year); 
  $('.link-detail', workelement).attr("id", i); 
  if (val.art_show == true) {
    $( ".listworks" ).append( workelement.html() );
  } 
});
	

 

// first empty and then show all images belonging to a project, 
// images lifes in folder /img/artwork_short/artwork_short+num.jpg - "artwork_short": "evil",
// num is number of images - "art_imgs": 7,

$( ".link-detail" ).on( "click", function() {

  $( ".listworks" ).empty();

  //  set current projekt
  let showThis = artworks[this.id].artwork_short; 

  // show all images
  for(i=2; i < artworks[this.id].art_imgs; i++) {
    $('.text-target', workelement).html('');
	  $('.target-img', workelement).attr('src', "./img/" +artworks[this.id].artwork_short + "/"+ artworks[this.id].artwork_short + i +".jpg"); 
	  $('.target-title', workelement).html(artworks[this.id].art_title); 
    $('.target-year', workelement).html(artworks[this.id].art_year); 
    $('.link-detail', workelement).removeClass("link-detail").addClass("show-img");
    $('.show-img', workelement).attr('id', i); 
    $('.show-img', workelement).attr('data-work', this.id); 
    $('.single-text', singleItem).html(artworks[this.id].art_title + " - " + artworks[this.id].art_year); 
    $('.listworks').append( workelement.html() );  
  }

  if (artworks[this.id].art_video != 0) {
    $("#ytplayer iframe").remove();
    $('<iframe width="100%" height="315" frameborder="0" allowfullscreen></iframe>')
        .attr("src", "http://www.youtube.com/embed/" + artworks[this.id].art_video)
        .appendTo(".video-content"); 
        showVideo = true;  
  } else {
    $("#ytplayer iframe").remove(); 
    showVideo = false;  
  }

 $('.lead').html("<span> <a href='./index.html'>works</a> </span><span>/</span> <span><a  class='link-detail' id='"+this.id+"'>"+artworks[this.id].art_title+"</a></span>");
 $('.jumbotron-heading').text(artworks[this.id].art_maker); 

 // show a single item
 $( ".show-img" ).on( "click", function() {
    $( ".video-content" ).hide();
    $( ".listworks" ).hide();
    $('.single-image', singleItem).attr('src', './img/' + showThis + '/'+ showThis + this.id +'.jpg');
    singleItem.show(); 
 });

});

// hide and show detailed images 
$( ".single-image" ).on( "click", function() {
    $( ".listworks" ).show();
    singleItem.hide();
    if (showVideo == true) { 
        $( ".video-content" ).show() 
    }
});




